<template>  <Header :current-user="currentUser"/>  <div class="d-flex justify-content-center mt-4 gap-3">    <div class="card shadow-sm" style="width: 300px">      <div class="card-body">        <span class="fw-bold">Total car value: </span>{{ totalCarValue }}      </div>    </div>    <div class="card" style="width: 300px">      <div class="card-body shadow-sm">        <span class="fw-bold">Cars: {{ this.cars.length }}</span>      </div>    </div>    <div class="card box shadow-sm" style="width: 300px">      <div class="card-body">        <span class="fw-bold">Users: </span>{{ this.users.length }}      </div>    </div>  </div>  <select v-model="carTableOrder" class="form-select mt-3 mx-auto" aria-label="Default select example" style="width: 250px" @change="orderCarsTable">    <option selected value="order">Order By</option>    <option value="id">Id</option>    <option value="highprice">Biggest Price</option>    <option value="price">Lowest Price</option>    <option value="model">Model</option>  </select>  <table class="table table-dark table-striped w-50 mx-auto mt-5">    <thead>    <h2 class="text-black">Car table</h2>    <tr>      <th scope="col">ID</th>      <th scope="col">Model</th>      <th scope="col">Value</th>      <th scope="col">Created at</th>    </tr>    </thead>    <tbody>    <tr v-for="car in this.cars" >      <th scope="row">{{ car.id }}</th>      <td>{{ car.model }}</td>      <td>{{ (car.price / 100).toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) }}</td>      <td>{{ dateFormater(car.created_at) }}</td>    </tr>    </tbody>  </table>    <table class="table table-dark table-striped w-50 mx-auto mt-5">      <thead>      <h2 class="text-black">Users table</h2>      <tr>        <th scope="col">ID</th>        <th scope="col">Name</th>        <th scope="col">Email</th>        <th scope="col">Created at</th>      </tr>      </thead>      <tbody>      <tr v-for="(user, key) in this.users" >        <th scope="row">{{ user.id }}</th>        <td>{{ user.name }}</td>        <td>{{ user.email }}</td>        <td>{{ dateFormater(user.created_at) }}</td>      </tr>      </tbody>    </table>    <select v-model="historyTableOrder" class="form-select mt-3 mx-auto" aria-label="Default select example" style="width: 250px" @change="orderHistoryTable">      <option selected value="all">All</option>      <option value="Create">Create</option>      <option value="Update">Update</option>      <option value="Delete">Delete</option>    </select>    <table class="table table-dark table-striped w-50 mx-auto mt-5" >      <thead>      <h2 class="text-black">History table</h2>      <tr>        <th scope="col">Car ID</th>        <th scope="col">ACTION</th>        <th scope="col">Car</th>        <th scope="col">User</th>        <th scope="col">Date</th>      </tr>      </thead>      <tbody>      <tr v-for="history in this.carHistory">        <th scope="row">{{ history.car_id }}</th>        <td>{{ history.method }}</td>        <td>{{ history.car_model }}</td>        <td>{{ history.user.name }}</td>        <td>{{ dateTimeFormater(history.created_at)+' - '+dateFormater(history.created_at) }}</td>      </tr>      </tbody>    </table></template><script>import Header from '../components/Header.vue';import axios from "../axios";export default {  name: "Dashboard",  components: {    Header,  },  data(){    return {      currentUser: null,      totalCarValue: null,      users: null,      cars: null,      carTableOrder: 'order',      historyTableOrder: 'all',      carHistory: null,    }  },  beforeCreate() {    axios.get('http://localhost/api/user')        .then((response) => {          this.currentUser = response.data        })        .catch(error => {          window.location.replace('http://localhost:3000/login')        })    axios.get('http://localhost/api/dashboard')        .then(response   => {          this.cars = response.data.cars;          this.totalCarValue = (response.data.total_price / 100).toLocaleString('pt-br',{style: 'currency', currency: 'BRL'});          this.users = response.data.users;          this.carHistory = response.data.car_history;        }).catch(error => console.log(error))  },  methods:{    orderCarsTable()    {      axios.get('http://localhost/api/dashboard/order/car', {        params: {          order: this.carTableOrder        }      }).then(response => {          this.cars = response.data[0];      }).catch(error => console.log(error))    },    orderHistoryTable()    {      axios.get('http://localhost/api/dashboard/order/history', {        params: {          order: this.historyTableOrder        }      }).then(response => {        this.carHistory = response.data[0]      }).catch(error => console.log(error))    },    dateFormater(date)    {      let dateFilter = date.split('T', 1);      let year = dateFilter[0].split('-', 3)[0];      let month = dateFilter[0].split('-', 3)[1];      let day = dateFilter[0].split('-', 3)[2];      return day+"/"+month+"/"+year    },    dateTimeFormater(date)    {      let dateFilter = date.split('T', 2);      let time = dateFilter[1].split('.', 1)      return time[0];    }  },}</script><style scoped>  .dashboard-grid{    display: flex;    gap: 15px;    margin: 0 auto;    width: 90%;  }  .card{    transition: .6s;    cursor: pointer;  }  .card:hover{    transform: translateY(-5px);  }</style>